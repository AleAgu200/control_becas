import{r as l,j as e,a as M,b as he,Y as ye,W as G}from"./app-EnW4PK3H.js";import{A as je}from"./AuthenticatedLayout-SE1KVi27.js";import{I as O}from"./InputError-DngQ7E3q.js";import{I as $}from"./InputLabel-C9q2wEAE.js";import{P as V}from"./PrimaryButton-BV49UgGi.js";import{T as K}from"./TextInput-B4xNMgIE.js";import{c as we,u as U,a as q,b as Ce,P as C,d as y,e as z,f as Se,g as Ne}from"./index-BEKr7tCY.js";import{u as Te,c as P}from"./utils-gwQgH_y_.js";import"./ApplicationLogo-C3MD-vRq.js";import"./transition-kOZBCvKV.js";function Ie(t,r=[]){let a=[];function s(d,i){const c=l.createContext(i),o=a.length;a=[...a,i];function n(f){const{scope:b,children:j,...m}=f,x=(b==null?void 0:b[t][o])||c,S=l.useMemo(()=>m,Object.values(m));return e.jsx(x.Provider,{value:S,children:j})}function v(f,b){const j=(b==null?void 0:b[t][o])||c,m=l.useContext(j);if(m)return m;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${d}\``)}return n.displayName=d+"Provider",[n,v]}const u=()=>{const d=a.map(i=>l.createContext(i));return function(c){const o=(c==null?void 0:c[t])||d;return l.useMemo(()=>({[`__scope${t}`]:{...c,[t]:o}}),[c,o])}};return u.scopeName=t,[s,Fe(u,...r)]}function Fe(...t){const r=t[0];if(t.length===1)return r;const a=()=>{const s=t.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(d){const i=s.reduce((c,{useScope:o,scopeName:n})=>{const f=o(d)[`__scope${n}`];return{...c,...f}},{});return l.useMemo(()=>({[`__scope${r.scopeName}`]:i}),[i])}};return a.scopeName=r.scopeName,a}var A="rovingFocusGroup.onEntryFocus",_e={bubbles:!1,cancelable:!0},I="RovingFocusGroup",[E,H,Re]=we(I),[Ae,Y]=Ie(I,[Re]),[Ee,Me]=Ae(I),W=l.forwardRef((t,r)=>e.jsx(E.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(E.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Pe,{...t,ref:r})})}));W.displayName=I;var Pe=l.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:a,orientation:s,loop:u=!1,dir:d,currentTabStopId:i,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:o,onEntryFocus:n,preventScrollOnEntryFocus:v=!1,...f}=t,b=l.useRef(null),j=Te(r,b),m=U(d),[x=null,S]=q({prop:i,defaultProp:c,onChange:o}),[p,h]=l.useState(!1),F=Ce(n),me=H(a),_=l.useRef(!1),[ve,L]=l.useState(0);return l.useEffect(()=>{const g=b.current;if(g)return g.addEventListener(A,F),()=>g.removeEventListener(A,F)},[F]),e.jsx(Ee,{scope:a,orientation:s,dir:m,loop:u,currentTabStopId:x,onItemFocus:l.useCallback(g=>S(g),[S]),onItemShiftTab:l.useCallback(()=>h(!0),[]),onFocusableItemAdd:l.useCallback(()=>L(g=>g+1),[]),onFocusableItemRemove:l.useCallback(()=>L(g=>g-1),[]),children:e.jsx(C.div,{tabIndex:p||ve===0?-1:0,"data-orientation":s,...f,ref:j,style:{outline:"none",...t.style},onMouseDown:y(t.onMouseDown,()=>{_.current=!0}),onFocus:y(t.onFocus,g=>{const be=!_.current;if(g.target===g.currentTarget&&be&&!p){const B=new CustomEvent(A,_e);if(g.currentTarget.dispatchEvent(B),!B.defaultPrevented){const R=me().filter(w=>w.focusable),ge=R.find(w=>w.active),xe=R.find(w=>w.id===x),pe=[ge,xe,...R].filter(Boolean).map(w=>w.ref.current);Z(pe,v)}}_.current=!1}),onBlur:y(t.onBlur,()=>h(!1))})})}),X="RovingFocusGroupItem",Q=l.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:a,focusable:s=!0,active:u=!1,tabStopId:d,...i}=t,c=z(),o=d||c,n=Me(X,a),v=n.currentTabStopId===o,f=H(a),{onFocusableItemAdd:b,onFocusableItemRemove:j}=n;return l.useEffect(()=>{if(s)return b(),()=>j()},[s,b,j]),e.jsx(E.ItemSlot,{scope:a,id:o,focusable:s,active:u,children:e.jsx(C.span,{tabIndex:v?0:-1,"data-orientation":n.orientation,...i,ref:r,onMouseDown:y(t.onMouseDown,m=>{s?n.onItemFocus(o):m.preventDefault()}),onFocus:y(t.onFocus,()=>n.onItemFocus(o)),onKeyDown:y(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){n.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const x=Le(m,n.orientation,n.dir);if(x!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let p=f().filter(h=>h.focusable).map(h=>h.ref.current);if(x==="last")p.reverse();else if(x==="prev"||x==="next"){x==="prev"&&p.reverse();const h=p.indexOf(m.currentTarget);p=n.loop?Be(p,h+1):p.slice(h+1)}setTimeout(()=>Z(p))}})})})});Q.displayName=X;var ke={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function De(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Le(t,r,a){const s=De(t.key,a);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return ke[s]}function Z(t,r=!1){const a=document.activeElement;for(const s of t)if(s===a||(s.focus({preventScroll:r}),document.activeElement!==a))return}function Be(t,r){return t.map((a,s)=>t[(r+s)%t.length])}var Ge=W,Oe=Q,k="Tabs",[$e,it]=Se(k,[Y]),J=Y(),[Ve,D]=$e(k),ee=l.forwardRef((t,r)=>{const{__scopeTabs:a,value:s,onValueChange:u,defaultValue:d,orientation:i="horizontal",dir:c,activationMode:o="automatic",...n}=t,v=U(c),[f,b]=q({prop:s,onChange:u,defaultProp:d});return e.jsx(Ve,{scope:a,baseId:z(),value:f,onValueChange:b,orientation:i,dir:v,activationMode:o,children:e.jsx(C.div,{dir:v,"data-orientation":i,...n,ref:r})})});ee.displayName=k;var te="TabsList",oe=l.forwardRef((t,r)=>{const{__scopeTabs:a,loop:s=!0,...u}=t,d=D(te,a),i=J(a);return e.jsx(Ge,{asChild:!0,...i,orientation:d.orientation,dir:d.dir,loop:s,children:e.jsx(C.div,{role:"tablist","aria-orientation":d.orientation,...u,ref:r})})});oe.displayName=te;var re="TabsTrigger",ae=l.forwardRef((t,r)=>{const{__scopeTabs:a,value:s,disabled:u=!1,...d}=t,i=D(re,a),c=J(a),o=ie(i.baseId,s),n=ce(i.baseId,s),v=s===i.value;return e.jsx(Oe,{asChild:!0,...c,focusable:!u,active:v,children:e.jsx(C.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":n,"data-state":v?"active":"inactive","data-disabled":u?"":void 0,disabled:u,id:o,...d,ref:r,onMouseDown:y(t.onMouseDown,f=>{!u&&f.button===0&&f.ctrlKey===!1?i.onValueChange(s):f.preventDefault()}),onKeyDown:y(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(s)}),onFocus:y(t.onFocus,()=>{const f=i.activationMode!=="manual";!v&&!u&&f&&i.onValueChange(s)})})})});ae.displayName=re;var se="TabsContent",ne=l.forwardRef((t,r)=>{const{__scopeTabs:a,value:s,forceMount:u,children:d,...i}=t,c=D(se,a),o=ie(c.baseId,s),n=ce(c.baseId,s),v=s===c.value,f=l.useRef(v);return l.useEffect(()=>{const b=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(b)},[]),e.jsx(Ne,{present:u||v,children:({present:b})=>e.jsx(C.div,{"data-state":v?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":o,hidden:!b,id:n,tabIndex:0,...i,ref:r,style:{...t.style,animationDuration:f.current?"0s":void 0},children:b&&d})})});ne.displayName=se;function ie(t,r){return`${t}-trigger-${r}`}function ce(t,r){return`${t}-content-${r}`}var Ke=ee,le=oe,ue=ae,de=ne;const Ue=Ke,fe=l.forwardRef(({className:t,...r},a)=>e.jsx(le,{ref:a,className:P("inline-flex h-10 items-center justify-center rounded-md bg-slate-100 p-1 text-slate-500 dark:bg-slate-800 dark:text-slate-400",t),...r}));fe.displayName=le.displayName;const N=l.forwardRef(({className:t,...r},a)=>e.jsx(ue,{ref:a,className:P("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-slate-950 data-[state=active]:shadow-sm dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300 dark:data-[state=active]:bg-slate-950 dark:data-[state=active]:text-slate-50",t),...r}));N.displayName=ue.displayName;const T=l.forwardRef(({className:t,...r},a)=>e.jsx(de,{ref:a,className:P("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",t),...r}));T.displayName=de.displayName;function qe(){const[t,r]=l.useState(""),[a,s]=l.useState(null);l.useState(!1);const u=c=>{if(c.target.files.length>0){const o=c.target.files[0];r(o.name),s(o)}else console.log("No file selected")},d=async()=>{const c=new FormData;c.append("file",a,a.name);try{const o=await he.post("/api/uploadexcelimport",c);console.log(o.data)}catch(o){console.error("File upload failed",o)}},i=()=>{r(""),s(null),document.getElementById("archivo").value=null};return e.jsx("div",{className:"w-full max-w-md mx-auto bg-white rounded shadow-lg p-6 dark:bg-gray-950",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 ",children:[e.jsx(ze,{className:"h-12 w-12 text-gray-500 dark:text-gray-400"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Subir archivo"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Arrastre y suelte aqui el archivo que desea subir."}),e.jsxs("div",{className:"w-full border-2 border-gray-300 border-dashed rounded-lg p-6 flex flex-col items-center justify-center space-y-4 hover:border-gray-500 transition-colors dark:border-gray-700 dark:hover:border-gray-500",children:[e.jsx(He,{className:"h-8 w-8 text-gray-500 dark:text-gray-400"}),e.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["Arrastre el archivo que desea subir"," "]}),e.jsx("input",{accept:".xlsx, .xls",className:"hidden",id:"archivo",type:"file",onChange:u}),e.jsx("label",{className:"inline-flex  h-10 items-center justify-center rounded bg-gray-900 px-4 text-sm font-medium text-gray-50 shadow transition-colors hover:bg-gray-900/90 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-gray-950 disabled:pointer-events-none disabled:opacity-50 dark:bg-gray-50 dark:text-gray-900 dark:hover:bg-gray-50/90 dark:focus-visible:ring-gray-300",htmlFor:"archivo",children:"Buscar en el ordenador"}),e.jsxs("div",{className:"w-full max-w-md mx-auto bg-white rounded-lg shadow-lg p-6 dark:bg-gray-950",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t?`Archivo seleccionado: ${t}`:"No ha seleccionado ningun archivo."}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("button",{onClick:i,className:"bg-red-700 rounded text-gray-50  p-2 hover:bg-red-600 transition-colors dark:bg-gray-50 dark:text-gray-900 dark:hover:bg-gray-100",children:"Cancelar"}),e.jsx("button",{onClick:d,className:"bg-green-600 text-gray-50 rounded p-2 hover:bg-green-500 transition-colors dark:bg-gray-50 dark:text-gray-900 dark:hover:bg-gray-100",children:"Subir"})]})]})]}),e.jsx("div",{className:"flex items-center justify-end mt-4",children:e.jsx(M,{href:route("beneficiarios"),className:"underline text-sm  text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Volver al listado de beneficiarios"})})]})})}function ze(t){return e.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),e.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),e.jsx("path",{d:"M8 13h2"}),e.jsx("path",{d:"M14 13h2"}),e.jsx("path",{d:"M8 17h2"}),e.jsx("path",{d:"M14 17h2"})]})}function He(t){return e.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"17 8 12 3 7 8"}),e.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]})}const ct=({auth:t})=>e.jsx("div",{children:e.jsxs(je,{user:t.user,children:[e.jsx(ye,{title:"Dashboard"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto sm:px-6 lg:px-8 max-w-[60%] bg-white shadow-lg p-5",children:e.jsxs(Ue,{defaultValue:"account",className:"w-[400px] ",children:[e.jsxs(fe,{className:"rounded",children:[e.jsx(N,{value:"account",children:"Agregar Beneficiario"}),e.jsx(N,{value:"centro",children:"Agregar Centro"}),e.jsx(N,{value:"file",children:"Agregar Beneficiarios desde archivo"})]}),e.jsx(T,{value:"file",children:e.jsx(qe,{})}),e.jsx(T,{className:"",value:"account",children:e.jsx(Ye,{})}),e.jsx(T,{value:"centro",children:e.jsx(We,{id_usuario:t.user.id})})]})})})]})});function Ye(){const{data:t,setData:r,post:a,processing:s,errors:u,reset:d}=G({nombres:"",apellidos:"",identidad:"",carnet:"",correo:"",telefono:"",direccion:"",estado:1,fecha_de_inicio:"",fecha_de_finalizacion:"",id_beca:"",centro_de_estudio_id:""}),i={nombres:{type:"text",label:"Nombres"},apellidos:{type:"text",label:"Apellidos"},identidad:{type:"text",label:"Identidad"},carnet:{type:"text",label:"Carnet"},correo:{type:"email",label:"Correo"},telefono:{type:"tel",label:"Telefono"},direccion:{type:"text",label:"Direccion"},estado:{type:"select",label:"Estado",options:[{value:1,label:"Activo"},{value:0,label:"Inactivo"}]},fecha_de_inicio:{type:"date",label:"Fecha de Inicio"},fecha_de_finalizacion:{type:"date",label:"Fecha de Finalizacion"},id_beca:{type:"select",label:"Tipo de beca",options:[{value:1,label:"Servicio Social, Quimicos Farmaceuticos"},{value:2,label:"Servicio Social, Odontología"},{value:3,label:"Servicio Social, Enfemeras Profesionales"},{value:4,label:"Servicio Social, Auxiliares de Enfermería"},{value:5,label:"Servicio Social, Médicos"},{value:6,label:"Servicio Social, Microbiología"},{value:7,label:"Servicio Social, Internado Rotatorio de Medicina"},{value:8,label:"Servicio Social, Técnicos en Laboratorio"},{value:9,label:"Servicio Social, Técnicos en Rayos X"},{value:10,label:"Servicio Social, Técnicos en Anestesia"},{value:11,label:"Servicio Social, Técnico en Salud Ambiental"},{value:12,label:"Servicio Social, Licenciadas en Nutrición"},{value:13,label:"Becas al Exterior"},{value:14,label:"Maestrías Nacionales"},{value:15,label:"Posgrados en Medicina"},{value:16,label:"Curso Técnicos en Laboratorio"},{value:17,label:"Curso Técnicos en Anestesia"},{value:18,label:"Curso Técnicos en Rayos X"},{value:19,label:"Curso Auxiliares de Enfermería"},{value:20,label:"Curso Técnicos en Salud Ambiental"},{value:21,label:"Curso Técnicos Básicas en quirófano"}]},centro_de_estudio_id:{type:"number",label:"Centro de Estudio ID"}};l.useEffect(()=>()=>{d()},[]);const c=o=>{o.preventDefault(),a(route("addStudent"))};return e.jsxs("form",{onSubmit:c,children:[e.jsx("div",{children:Object.keys(i).map(o=>e.jsxs("div",{children:[e.jsx($,{htmlFor:o,value:i[o].label}),i[o].type==="select"?e.jsx("select",{id:o,name:o,value:t[o],className:"mt-1 block w-full rounded",onChange:n=>r(o,n.target.value),required:!0,children:i[o].options.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))}):e.jsx(K,{id:o,type:i[o].type,name:o,value:t[o],className:"mt-1 block w-full",onChange:n=>r(o,n.target.value),required:!0}),e.jsx(O,{message:u[o],className:"mt-2"})]},o))}),e.jsxs("div",{className:"flex items-center justify-end mt-4",children:[e.jsx(M,{href:route("beneficiarios"),className:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Volver al listado de beneficiarios"}),e.jsx(V,{className:"ms-4",disabled:s,children:"Registrar Beneficiario"})]})]})}function We({id_usuario:t}){console.log("🚀 ~ CreateCentro ~ id_usuario:",t);const{data:r,setData:a,post:s,processing:u,errors:d,reset:i}=G({id_usuario:t,nombre:"",direccion:"",telefono:"",correo:"",agente_usuario:navigator.userAgent,carga_util:"",ultima_actividad:Date.now(),director_centro:""}),c={nombre:{type:"text",label:"Nombre del centro"},director_centro:{type:"text",label:"Nombre del director del centro"},direccion:{type:"text",label:"Direccion"},telefono:{type:"tel",label:"Telefono"},correo:{type:"email",label:"Correo"}};l.useEffect(()=>()=>{i()},[]);const o=n=>{n.preventDefault(),s(route("Centros.store"))};return e.jsxs("form",{onSubmit:o,children:[Object.keys(c).map(n=>e.jsxs("div",{children:[e.jsx($,{htmlFor:n,value:c[n].label}),e.jsx(K,{id:n,type:c[n].type,name:n,value:r[n],className:"mt-1 block w-full",onChange:v=>a(n,v.target.value),required:!0}),e.jsx(O,{message:d[n],className:"mt-2"})]},n)),e.jsxs("div",{className:"flex items-center justify-end mt-4",children:[e.jsx(M,{href:route("centros"),className:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Volver al listado de centros"}),e.jsx(V,{className:"ms-4",disabled:u,children:"Registrar Centro"})]})]})}export{ct as default};
