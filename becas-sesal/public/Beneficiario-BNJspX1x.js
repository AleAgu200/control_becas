import{r as m,j as o,Y as f,b as x}from"./app-EnW4PK3H.js";import{A as p}from"./AuthenticatedLayout-SE1KVi27.js";import{B as l}from"./button-D4tbhOKO.js";import"./ApplicationLogo-C3MD-vRq.js";import"./transition-kOZBCvKV.js";import"./utils-gwQgH_y_.js";const w=({estudiante:e,auth:n})=>{const[r,t]=m.useState({estado:e.estado}),d=s=>{console.log(e),t(c=>({...c,estado:Number(s.target.value)}))},h=async s=>{s.preventDefault(),await i(e.identidad,r.estado)};async function i(s,c){console.log("🚀 ~ Beneficiario ~ identidad:",s);try{const a={nombres:e.nombres,apellidos:e.apellidos,identidad:e.identidad,carnet:e.carnet,correo:e.correo,telefono:e.telefono,direccion:e.direccion,estado:c,fecha_de_inicio:e.fecha_de_inicio,fecha_de_finalizacion:e.fecha_de_finalizacion,id_beca:e.id_beca,centro_de_estudio_id:e.centro_de_estudio_id};return console.log("Payload:",a),(await x.put(`http://localhost:8000/updateStudent/${s}`,a,{headers:{"Content-Type":"application/json"}})).data}catch(a){a.response?(console.error(`HTTP error! status: ${a.response.status}`),console.error("Response data:",a.response.data)):a.request?console.error("No response received:",a.request):console.error("Error",a.message)}}return o.jsxs(p,{user:n.user,children:[o.jsx(f,{title:"Beneficiario"}),o.jsxs("div",{className:"h-[70dvh] p-5 mx-auto mt-5 flex flex-col items-center bg-white shadow-md rounded w-[80%] gap-5",children:[o.jsxs("h1",{className:"text-xl font-bold",children:["Nombre Completo:"," ",e.nombres+" "+e.apellidos]}),o.jsxs("h1",{className:"text-lg",children:["Identidad: ",e.identidad," "]}),o.jsxs("h1",{className:"text-lg",children:["Correo: ",e.correo," "]}),o.jsxs("h1",{className:"text-lg",children:["Dirección: ",e.direccion," "]}),o.jsx("form",{onSubmit:h,className:"w-full max-w-lg mt-5",children:o.jsx("div",{className:"flex flex-col gap-3",children:o.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:["Estado:",o.jsxs("select",{value:r.estado,onChange:d,className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:[o.jsx("option",{value:0,children:"Activo"}),o.jsx("option",{value:1,children:"Inactivo"})]})]})})}),o.jsxs("h1",{className:"text-lg",children:["Fecha de inicio:"," ",new Date(e.fecha_de_inicio).toLocaleDateString()]}),o.jsxs("h1",{className:"text-lg",children:["Fecha de Finalización:"," ",new Date(e.fecha_de_finalizacion).toLocaleDateString()]}),o.jsxs("div",{className:"flex flex-row gap-2 mt-5",children:[o.jsx(l,{className:"rounded bg-gray-700",children:o.jsx("a",{href:"beneficiarios",children:"← Volver a la lista de Beneficiarios"})}),o.jsx(l,{onClick:()=>i(e.identidad,r.estado),className:"rounded bg-green-500 hover:bg-green-400",children:"Actualizar estado del Beneficiario"})]})]})]})};export{w as default};
